#░██╗░░░░░░░██╗██╗███╗░░██╗██████╗░░█████╗░░██╗░░░░░░░██╗░██████╗██████╗░██╗░░░██╗██╗░░░░░███████╗
#░██║░░██╗░░██║██║████╗░██║██╔══██╗██╔══██╗░██║░░██╗░░██║██╔════╝██╔══██╗██║░░░██║██║░░░░░██╔════╝
#░╚██╗████╗██╔╝██║██╔██╗██║██║░░██║██║░░██║░╚██╗████╗██╔╝╚█████╗░██████╔╝██║░░░██║██║░░░░░█████╗░░
#░░████╔═████║░██║██║╚████║██║░░██║██║░░██║░░████╔═████║░░╚═══██╗██╔══██╗██║░░░██║██║░░░░░██╔══╝░░
#░░╚██╔╝░╚██╔╝░██║██║░╚███║██████╔╝╚█████╔╝░░╚██╔╝░╚██╔╝░██████╔╝██║░░██║╚██████╔╝███████╗███████╗
#░░░╚═╝░░░╚═╝░░╚═╝╚═╝░░╚══╝╚═════╝░░╚════╝░░░░╚═╝░░░╚═╝░░╚═════╝░╚═╝░░╚═╝░╚═════╝░╚══════╝╚══════╝
#
# Hyprland 0.53+ Window Rules - 新语法格式
# 参考: https://wiki.hyprland.org/Configuring/Window-Rules/

# ========================================
# 浮动窗口规则
# ========================================

windowrule {
    name = polkit-float
    match:class = ^(org.kde.polkit-kde-authentication-agent-1)$
    float = on
}

windowrule {
    name = imv-float
    match:class = ^(imv)$
    float = on
}

windowrule {
    name = scrcpy-float
    match:class = ^(scrcpy)$
    float = on
}

windowrule {
    name = wlogout-float
    match:class = ^(wlogout)$
    float = on
}

windowrule {
    name = emulator-float
    match:class = ^(Emulator)$
    float = on
}

windowrule {
    name = vlc-float
    match:class = ^(vlc)$
    float = on
}

# ========================================
# WPS Office 规则
# ========================================

windowrule {
    name = wps-rules
    match:class = ^(wps)$
    float = on
    maximized = on
}

windowrule {
    name = et-rules
    match:class = ^(et)$
    float = on
    maximized = on
}

windowrule {
    name = wpspdf-rules
    match:class = ^(wpspdf)$
    float = on
    maximized = on
}

# ========================================
# 微信规则
# ========================================

windowrule {
    name = wechat-float
    match:class = ^(wechat)$
    float = on
}

# ========================================
# XWayland Video Bridge 规则
# ========================================

windowrule {
    name = xwaylandvideobridge-rules
    match:class = ^(xwaylandvideobridge)$
    opacity = 0.0 override 0.0 override
    no_anim = on
    no_focus = on
    no_initial_focus = on
}

# ========================================
# 其他窗口规则
# ========================================

windowrule {
    name = rofi-stayfocused
    match:class = ^(Rofi)$
    stayfocused = on
}

windowrule {
    name = lxmusic-nomaxsize
    match:class = ^(lx-music-desktop)$
    no_max_size = on
}

# ========================================
# Layer 规则
# ========================================

# Waybar
layerrule = blur, waybar
layerrule = ignorezero, waybar

# Anyrun
layerrule = blur, anyrun

# Notifications
layerrule = blur, notifications
layerrule = ignorezero, notifications
layerrule = xray 0, notifications

# GTK Layer Shell
layerrule = blur, gtk-layer-shell
layerrule = ignorezero, gtk-layer-shell
layerrule = xray 0, gtk-layer-shell

# Avizo
layerrule = blur, avizo
layerrule = ignorezero, avizo
layerrule = xray 0, avizo
